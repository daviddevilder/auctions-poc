<div class="background"></div>

<app-header [organisationId]="organisationId" [colour]="Organisation.primaryColour"></app-header>

<div class="content">
    <div class="pageHeader" [ngStyle]="{ 'background-color': Organisation.primaryColour}">
        <a routerLink="/{{organisationId}}/lots"><mat-icon>arrow_back</mat-icon></a>
        <span>{{ lot.title }}</span>
    </div>

    <div fxLayout="row" fxLayout.lt-md="column" class="containerRow firstRow" >

        <div class="lotContentContainer" fxFlex="1 1 40%" fxFlex.lt-md="1 1 50%">
            <mat-card class="lotDetailsCard">
                <div class='lotPricing firstRow'>
                    <div class='label'>Reserve: </div>
                    <div class='value'>£{{lot.reservePrice}}</div>
                </div>  
        
                <div class='lotPricing'>
                    <div class='label'>Estimate: </div>
                    <div class='value'>£{{lot.estimate}}</div>
                </div>
            </mat-card>
        </div>

        <div class="lotContentContainer" fxFlex="1 1 60%" fxFlex.lt-md="1 1 50%">
            <mat-card class="lotDetailsCard inputCard" fxLayout="row wrap" fxLayoutGap="20px">
                    <mat-form-field>
                        <input matInput [(ngModel)]="amount" type="number" placeholder="My Bid (minimum £{{lot.reservePrice}})" autofocus>
                        <mat-hint>Currency: GBP</mat-hint>
                    </mat-form-field>
                    
                    <button mat-raised-button class="bidButton" [disabled]="amount < lot.reservePrice" (click)="openBidPopup()" ngStyle.lt-sm="margin-top: 10px;" >
                        <mat-icon>gavel</mat-icon><span>PLACE BID</span>
                    </button>

            </mat-card>
        </div>

    </div>

    <div fxLayout="row" fxLayout.lt-md="column" class="containerRow secondRow">
        <div class="lotContentContainer" fxFlex="1 1 40%" fxFlex.lt-md="1 1 50%" fxLayoutAlign="start start" fxLayoutAlign.lt-md="center start">
                <img src="{{lot.imageUri}}"/>
        </div> 
        
        <div class="lotContentContainer" fxFlex="1 1 60%" fxFlex.lt-md="1 1 50%" [innerHTML]="lot.description">

        </div>
    
    </div>

    <app-footer [colour]="Organisation.primaryColour"></app-footer>

</div>